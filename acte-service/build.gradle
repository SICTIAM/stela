jar {
    baseName = 'acte-service'
    archiveName = 'acte-service.jar'
}

dependencies {
    compile('org.springframework.boot:spring-boot-starter-actuator')
    compile('org.springframework.cloud:spring-cloud-starter-config')
    compile('org.springframework.cloud:spring-cloud-starter-eureka')
    compile('org.springframework.boot:spring-boot-starter-data-jpa')
    compile('org.springframework.boot:spring-boot-starter-web')
    compile('org.apache.commons:commons-compress:1.4')
    compile('org.codehaus.groovy:groovy:2.4.12')
    compile('org.codehaus.groovy:groovy-templates:2.4.7')
    compile('com.sun.mail:javax.mail:1.6.0')
    runtime('org.springframework.boot:spring-boot-devtools')
    runtime('org.postgresql:postgresql')
    testCompile('org.springframework.boot:spring-boot-starter-test')
}

test {
    useJUnit {
        excludeCategories 'fr.sictiam.stela.acteservice.IntegrationTests'
    }
}

task integrationTest(type: Test) {
    environment SPRING_PROFILES_ACTIVE: environment.SPRING_PROFILES_ACTIVE ?: "test"

    useJUnit {
        includeCategories 'fr.sictiam.stela.acteservice.IntegrationTests'
    }
}

